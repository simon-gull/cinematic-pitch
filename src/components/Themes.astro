---
interface Props {
  headline?: string
  text: string
  points?: string[]
}

const { headline = 'Why Now', text, points = [] } = Astro.props
---

<section class="themes-section relative" style="background: #0f0f0f;">
  <div class="h-[15vh]"></div>

  <div class="max-w-3xl mx-auto px-6 md:px-16 py-16 md:py-24">
    <h2 class="themes-headline font-display text-lg md:text-xl tracking-[0.2em] uppercase text-pitch-muted mb-12 opacity-0" data-themes-el>
      {headline}
    </h2>

    <p class="themes-text font-display text-2xl md:text-3xl lg:text-4xl font-light leading-relaxed text-pitch-white mb-16 opacity-0" data-themes-el>
      {text}
    </p>

    {points.length > 0 && (
      <ul class="space-y-4 opacity-0" data-themes-el>
        {points.map(point => (
          <li class="font-body text-base md:text-lg font-light text-pitch-white/70 pl-6 border-l border-pitch-dim">
            {point}
          </li>
        ))}
      </ul>
    )}
  </div>

  <div class="h-[10vh]"></div>
</section>

<script>
  import { gsap } from 'gsap'
  import { ScrollTrigger } from 'gsap/ScrollTrigger'
  gsap.registerPlugin(ScrollTrigger)

  document.querySelectorAll('[data-themes-el]').forEach((el, i) => {
    gsap.fromTo(el,
      { opacity: 0, y: 30 },
      {
        opacity: 1, y: 0,
        duration: 1,
        delay: i * 0.2,
        ease: 'power2.out',
        scrollTrigger: {
          trigger: el.closest('.themes-section'),
          start: 'top 65%',
          toggleActions: 'play none none none',
        }
      }
    )
  })
</script>
